<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="978" height="519" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Client App->> CloudLoyalty: 1. Authenticates using Oauth/OIDC\nand get bearer token
Client App->CloudLoyalty: Requests a purchase\n authorization
CloudLoyalty->Tenant Account: Requests a purchase\n authorization
Tenant Account-->Tenant Account: Validates participant balance
Tenant Account-->Tenant Account: Holds purchase points
Tenant Account->CloudLoyalty: Returns a purchase\n Authorization Id
CloudLoyalty->Client App: Returns a purchase Id]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C96.4,15.5 37.3,24.5 123.7,20.0C122.0,38.9 125.4,55.7 123.7,62.5C28.2,67.0 55.3,58.0 10.0,62.5C11.7,35.1 8.3,54.6 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client App</tspan></text></g><g class="actor"><path d="M10,456.8125C28.2,461.4 96.4,452.3 123.7,456.8C125.4,463.6 122.0,492.5 123.7,499.3C29.6,494.8 44.1,503.9 10.0,499.3C8.3,473.8 11.7,491.6 10.0,456.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="480.8125" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Client App</tspan></text></g><path d="M66.8,62.5C82.6,384.6 51.1,362.2 66.8,456.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M326.2265625,20C359.6,25.6 348.5,14.4 465.4,20.0C463.7,37.2 467.1,44.0 465.4,62.5C352.7,68.1 423.3,56.9 326.2,62.5C327.9,32.2 324.5,45.9 326.2,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="336.2265625" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="336.2265625">CloudLoyalty</tspan></text></g><g class="actor"><path d="M326.2265625,456.8125C443.1,451.2 367.9,462.4 465.4,456.8C463.7,486.3 467.1,480.4 465.4,499.3C377.7,504.9 359.6,493.7 326.2,499.3C324.5,479.1 327.9,467.0 326.2,456.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="336.2265625" y="480.8125" style="font-size: 16px; font-family: danielbd;"><tspan x="336.2265625">CloudLoyalty</tspan></text></g><path d="M395.8,62.5C380.0,356.4 411.6,125.6 395.8,456.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M518.109375,20C646.1,13.9 618.0,26.1 670.5,20.0C672.2,52.3 668.8,55.7 670.5,62.5C646.1,68.6 594.2,56.4 518.1,62.5C519.8,49.1 516.4,50.2 518.1,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="528.109375" y="44" style="font-size: 16px; font-family: danielbd;"><tspan x="528.109375">Tenant Account</tspan></text></g><g class="actor"><path d="M518.109375,456.8125C646.1,450.7 579.9,462.9 670.5,456.8C668.8,492.5 672.2,475.6 670.5,499.3C631.5,505.4 542.5,493.2 518.1,499.3C519.8,463.6 516.4,467.0 518.1,456.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="528.109375" y="480.8125" style="font-size: 16px; font-family: danielbd;"><tspan x="528.109375">Tenant Account</tspan></text></g><path d="M594.3,62.5C610.1,234.9 578.5,393.7 594.3,456.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="76.84375" y="80.6484375" style="font-size: 16px; font-family: danielbd;"><tspan x="76.84375">1. Authenticates using Oauth/OIDC</tspan><tspan dy="1.2em" x="76.84375">and get bearer token</tspan></text><path d="M66.8,124.2C278.7,111.0 145.8,137.4 395.8,124.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="142.078125" y="142.3515625" style="font-size: 16px; font-family: danielbd;"><tspan x="142.078125">Requests a purchase</tspan><tspan dy="1.2em" x="142.078125">authorization</tspan></text><path d="M66.8,185.9C119.5,199.1 241.5,172.7 395.8,185.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="405.8125" y="204.0546875" style="font-size: 16px; font-family: danielbd;"><tspan x="405.8125">Requests a purchase</tspan><tspan dy="1.2em" x="405.8125">authorization</tspan></text><path d="M395.8,247.6C443.5,239.7 546.7,255.5 594.3,247.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="619.3125" y="283.859375" style="font-size: 16px; font-family: danielbd;"><tspan x="619.3125">Validates participant balance</tspan></text><path d="M594.3,267.6C607.9,266.8 597.5,268.4 614.3,267.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></path><path d="M614.3,267.6C613.2,287.5 615.4,272.0 614.3,295.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></path><path d="M614.3,295.1C597.8,295.9 605.1,294.3 594.3,295.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="619.3125" y="326.359375" style="font-size: 16px; font-family: danielbd;"><tspan x="619.3125">Holds purchase points</tspan></text><path d="M594.3,310.1C611.1,309.3 609.5,310.9 614.3,310.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></path><path d="M614.3,310.1C615.4,314.5 613.2,319.0 614.3,337.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></path><path d="M614.3,337.6C611.1,336.8 609.5,338.4 594.3,337.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="410.140625" y="350.7578125" style="font-size: 16px; font-family: danielbd;"><tspan x="410.140625">Returns a purchase</tspan><tspan dy="1.2em" x="410.140625">Authorization Id</tspan></text><path d="M594.3,394.3C431.4,402.3 487.4,386.4 395.8,394.3" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="134.7578125" y="422.0625" style="font-size: 16px; font-family: danielbd;"><tspan x="134.7578125">Returns a purchase Id</tspan></text><path d="M395.8,436.8C269.1,450.0 151.7,423.7 66.8,436.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>